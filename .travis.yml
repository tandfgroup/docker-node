sudo: required
services:
  - docker
notifications:
  email: false
branches:
  only:
    - master
    - /^greenkeeper.*$/
script:
  - if [ "true" = "${SHELLCHECK-}" ]; then shellcheck *.sh ; fi
  - if [ -n "${NODE_VERSION-}" ]; then ./test-build.sh $NODE_VERSION ; fi
after_success:
  - nvm install node
  - npm i -g travis-deploy-once semantic-release
  - travis-deploy-once "semantic-release --verify-conditions '@semantic-release/github' --get-last-release '@semantic-release/github' --publish '@semantic-release/github'"
env:
  - NODE_VERSION: '4'
  - NODE_VERSION: '6'
  - NODE_VERSION: '8'
  - NODE_VERSION: '9'
  - NODE_VERSION: '10'
matrix:
  include:
    env: SHELLCHECK=true
    addons:
      apt:
        sources:
          - debian-sid
        packages:
          - shellcheck
